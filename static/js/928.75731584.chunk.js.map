{"version":3,"file":"static/js/928.75731584.chunk.js","mappings":"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","sources":["Api.jsx","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails.module.css?6cd2","components/ButtonBack.jsx","pages/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '8b801a00c53265c17aedd2cbc707fdf5';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nexport const fetchTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get('/trending/movie/day');\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieDetails = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}`);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieCredits = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/credits`);\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieReviews = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/reviews`);\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieSearch = async query => {\n  try {\n    const { data } = await axios.get(`/search/movie?query=${query}`);\n\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\n\nexport const fetchMovieVideo = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/videos`);\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"Detail\":\"MovieDetails_Detail__rDvPW\",\"Div\":\"MovieDetails_Div__-6HQN\",\"DivText\":\"MovieDetails_DivText__wj09Q\",\"Link\":\"MovieDetails_Link__ZXyTN\",\"List\":\"MovieDetails_List__hHtMj\"};","import { useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst ButtonBack = ({ location }) => {\n  const navigate = useNavigate();\n  console.log(location);\n  return (\n    <button type=\"button\" onClick={() => navigate(location.state?.from ?? '/')}>\n      &larr; Назад\n    </button>\n  );\n};\n\nButtonBack.propTypes = {\n  location: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n\nexport default ButtonBack;\n","import css from './MovieDetails.module.css';\nimport { useEffect, useState, useRef } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { fetchMovieDetails } from '../Api';\nimport ButtonBack from '../components/ButtonBack';\n\nconst defaultImage =\n  'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n\n  const location = useLocation();\n  const locationRef = useRef(location);\n\n  useEffect(() => {\n    const fetchMovieData = async () => {\n      try {\n        const movieData = await fetchMovieDetails(movieId);\n        setMovie(movieData);\n      } catch (error) {\n        console.log('error', error);\n        setMovie(null);\n      }\n    };\n\n    fetchMovieData();\n  }, [movieId]);\n\n  if (!movie) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div className={css.Detail}>\n      <ButtonBack location={locationRef.current} />\n      <div className={css.Div}>\n        <div>\n          <img\n            src={\n              movie.poster_path\n                ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n                : defaultImage\n            }\n            alt={movie.title}\n          />\n        </div>\n\n        <div className={css.DivText}>\n          <h1>\n            {' '}\n            {movie.title}({movie.release_date.slice(0, 4)})\n          </h1>\n          <p>User score: {(movie.vote_average * 10).toFixed(0)}%</p>\n          <p>Release Date: {movie.release_date}</p>\n          <p>Overview: {movie.overview}</p>\n          <h3>Genres</h3>\n          <ul>\n            {movie.genres.map(genre => (\n              <li key={genre.id}>{genre.name}</li>\n            ))}\n          </ul>\n        </div>\n      </div>\n\n      <ul className={css.List}>\n        <li>\n          <Link to=\"cast\" className={css.Link}>\n            Cast\n          </Link>\n        </li>\n        <li>\n          <Link to=\"Reviews\" className={css.Link}>\n            Reviews\n          </Link>\n        </li>\n      </ul>\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["axios","api_key","language","fetchTrendingMovies","data","results","console","log","error","fetchMovieDetails","movieId","fetchMovieCredits","cast","fetchMovieReviews","fetchMovieSearch","query","location","navigate","useNavigate","type","onClick","state","from","useParams","useState","movie","setMovie","useLocation","locationRef","useRef","useEffect","fetchMovieData","movieData","className","css","current","src","poster_path","alt","title","release_date","slice","vote_average","toFixed","overview","genres","map","genre","name","id","to"],"sourceRoot":""}