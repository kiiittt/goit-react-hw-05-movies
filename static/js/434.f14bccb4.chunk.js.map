{"version":3,"file":"static/js/434.f14bccb4.chunk.js","mappings":"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","sources":["Api.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesList.module.css?c9d5","components/MoviesListItem.jsx","components/MovieList.jsx","webpack://goit-react-hw-05-movies/./src/components/SearchMovie.module.css?eded","components/SearchMovie.jsx","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '8b801a00c53265c17aedd2cbc707fdf5';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nexport const fetchTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get('/trending/movie/day');\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieDetails = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}`);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieCredits = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/credits`);\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieReviews = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/reviews`);\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieSearch = async query => {\n  try {\n    const { data } = await axios.get(`/search/movie?query=${query}`);\n\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\n\nexport const fetchMovieVideo = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/videos`);\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"List\":\"MoviesList_List__FxWIB\",\"Link\":\"MoviesList_Link__abDw6\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.css';\nimport PropTypes from 'prop-types';\n\nfunction MoviesListItem({ title, movieId }) {\n  const location = useLocation();\n  return (\n    <li>\n      <Link\n        to={`/movies/${movieId}`}\n        state={{ from: location }}\n        className={css.Link}\n      >\n        {title}\n      </Link>\n    </li>\n  );\n}\n\nexport default MoviesListItem;\n\nMoviesListItem.propTypes = {\n  movieId: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n};\n","import MoviesListItem from './MoviesListItem';\nimport css from './MoviesList.module.css';\nimport PropTypes from 'prop-types';\n\nfunction MoviesList({ movies }) {\n  return (\n    <ul className={css.List}>\n      {movies.map(({ id, title }) => (\n          <MoviesListItem key={id} movieId={id} title={title}\n              className={css.Link} />\n      ))}\n    </ul>\n  );\n}\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchMovie_form__iToRm\",\"input\":\"SearchMovie_input__97k05\",\"searchBtn\":\"SearchMovie_searchBtn__jnOgX\"};","import { useState } from 'react';\nimport css from './SearchMovie.module.css';\nimport PropTypes from 'prop-types';\n\nfunction SearchMovie({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleInputChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      return;\n    }\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <input\n        className={css.input}\n        value={query}\n        onChange={handleInputChange}\n      ></input>\n      <button type=\"submit\" className={css.searchBtn}>\n        Search\n      </button>\n    </form>\n  );\n}\n\nexport default SearchMovie;\n\nSearchMovie.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useSearchParams } from 'react-router-dom';\nimport { fetchMovieSearch } from '../Api';\nimport { useState, useEffect, useCallback } from 'react';\nimport MoviesList from 'components/MovieList';\nimport SearchMovie from 'components/SearchMovie';\n\nfunction Movies() {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  const formSubmitHandler = useCallback(\n    async query => {\n      const searchMovies = await fetchMovieSearch(query);\n      setMovies(searchMovies);\n      setSearchParams({ query: query });\n    },\n    [setSearchParams]\n  );\n\n  useEffect(() => {\n    if (query) {\n      formSubmitHandler(query);\n    }\n  }, [searchParams, query, formSubmitHandler]);\n\n  return (\n    <div>\n      <SearchMovie onSubmit={formSubmitHandler} />\n      <MoviesList movies={movies} />\n    </div>\n  );\n}\n\nexport default Movies;\n"],"names":["axios","api_key","language","fetchTrendingMovies","data","results","console","log","error","fetchMovieDetails","movieId","fetchMovieCredits","cast","fetchMovieReviews","fetchMovieSearch","query","title","location","useLocation","to","state","from","className","css","movies","map","id","onSubmit","useState","setQuery","e","preventDefault","trim","value","onChange","target","type","setMovies","useSearchParams","searchParams","setSearchParams","get","formSubmitHandler","useCallback","searchMovies","useEffect"],"sourceRoot":""}